<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Thu Aug 08 14:32:52 CEST 2024 -->
<title>BeanExtractor (Klojang JDBC)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-08-08">
<meta name="description" content="declaration: module: org.klojang.jdbc, package: org.klojang.jdbc, interface: BeanExtractor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BeanExtractor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">org.klojang.jdbc</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.klojang.jdbc</a></div>
<h1 title="Interface BeanExtractor" class="title">Interface BeanExtractor&lt;T&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the beans produced by the <code>BeanExtractor</code></dd>
</dl>
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;T&gt;</code></dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="MapExtractor.html" title="interface in org.klojang.jdbc">MapExtractor</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public sealed interface </span><span class="element-name type-name-label">BeanExtractor&lt;T&gt;</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;T&gt;</span>
<span class="permits">permits <a href="MapExtractor.html" title="interface in org.klojang.jdbc">MapExtractor</a> <span class="permits-note">(not exhaustive)</span></span></div>
<div class="block"><p>Converts the rows in a JDBC <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> into JavaBeans, records or
 <code>Map&lt;String, Object&gt;</code> pseudo-objects. For brevity's sake we will call all three
 types of objects "beans" from now on. Instances of this interface are obtained via
 <a href="BeanExtractorFactory.html#getExtractor(java.sql.ResultSet)"><code>BeanExtractorFactory.getExtractor()</code></a> or via
 <a href="MapExtractorFactory.html#getExtractor(java.sql.ResultSet)"><code>MapExtractorFactory.getExtractor()</code></a>.
 A <code>BeanExtractor</code> is agnostic about, and has no opinion on how the
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> was obtained. It may have been produced using regular JDBC calls. It
 does not aim to be an ORM-like class. It just converts result sets into (flat) beans,
 to be carried across the boundary of the data access module (and into the view layer,
 for example). The beans may have nested structures, but only top-level properties will
 be populated.

 <h2 id="iteration-heading">Iteration</h2>

 <p><code>BeanExtractor</code> is an extension of the <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link"><code>Iterable</code></a> interface,
 enabling you to extract the beans in a <code>forEach</code> loop:

 <blockquote><pre><code>
 static final BeanExtractorFactory FACTORY = new BeanExtractorFactory(Employee.class);

 // ...

 try(ResultSet rs = ...) {
   for(Employee emp : FACTORY.getExtractor(rs)) {
     // do stuff ...
   }
 }
 </code></pre></blockquote>

 Iterating over JDBC result sets is problematic in the sense that the <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a>
 class does not provide an idempotent <code>hasNext</code>-like method. Calling
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#next()" title="class or interface in java.sql" class="external-link"><code>ResultSet.next()</code></a> will tell you whether there is a next row, but it will also
 move the cursor to that row. <i>Klojang JDBC</i> has opted to make it immediately
 whether there are any beans to be extracted from a <code>ResultSet</code>. That is,
 <a href="#isEmpty()"><code>BeanExtractor.isEmpty()</code></a> can be called immediately after obtaining
 the <code>BeanExtractor</code> from the <code>BeanExtractorFactory</code> and it will give you
 the right answer. Upon instantiation the <code>BeanExtractor</code> will prefetch the first
 row from the <code>ResultSet</code> to gage whether there was one in the first place. The
 consequence, however, is that obtaining a <code>BeanExtractor</code> is itself not an
 idempotent operation. Be aware of this. If you call <code>FACTORY.getExtractor(rs)</code>
 twice in a row, the second <code>BeanExtractor</code> will start its life sitting on the
 second row of the <code>ResultSet</code>. In short: only instantiate a <code>BeanExtractor</code>
 if you intend to extract at least one row from the underlying <code>ResultSet</code> (when
 available).

 <h2 id="javabeans-vs-records-heading">JavaBeans vs. Records</h2>
 When converting a row into a JavaBean, a <code>BeanExtractor</code> will always use the
 setters on the JavaBean to populate it. There is no way to populate a JavaBean via its
 constructors. When converting to a <code>record</code>, a <code>BeanExtractor</code> will
 obviously always use one of its constructors to populate it. Make sure the record has a
 constructor for those record components that are supposed to map to columns in the
 SELECT clause. The encounter order of the record components within the constructor must
 match the encounter order of the columns in the SELECT clause. However, it is not
 necessary that each record component can be mapped to a column in the SELECT clause,
 and it is not necessary that each column in the SELECT clause can be mapped back to a
 record component.

 <h2 id="map-extractors-heading">Map Extractors</h2>

 Although the <code>BeanExtractor</code> interface also allows for the extraction of
 <code>Map&lt;String, Object&gt;</code> pseudo-objects from a <code>ResultSet</code>, there still is a
 specialization of the <code>BeanExtractor</code> interface specifically for this purpose:
 the <a href="MapExtractor.html" title="interface in org.klojang.jdbc"><code>MapExtractor</code></a> interface. This interface does not contain any methods, but it
 reduces the verbosity of your code and, more importantly, it reflects the fact that map
 extractors are configured and obtained by other means than JavaBean and <code>record</code>
 extractors &#8212; respectively through a <a href="MapExtractorFactory.html" title="class in org.klojang.jdbc"><code>MapExtractorFactory</code></a> and a
 <a href="BeanExtractorFactory.html" title="class in org.klojang.jdbc"><code>BeanExtractorFactory</code></a>.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Ayco Holleman</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="BeanExtractorFactory.html" title="class in org.klojang.jdbc"><code>BeanExtractorFactory</code></a></li>
<li><a href="MapExtractor.html" title="interface in org.klojang.jdbc"><code>MapExtractor</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#extract()" class="member-name-link">extract</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Converts the current row within the <code>ResultSet</code> into a bean.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#extract(int)" class="member-name-link">extract</a><wbr>(int&nbsp;limit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Converts at most <code>limit</code> rows from the <code>ResultSet</code> into beans, possibly
 less, if there are not that many rows left in the <code>ResultSet</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#extractAll()" class="member-name-link">extractAll</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Converts all remaining rows in the <code>ResultSet</code> into beans.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#extractAll(int)" class="member-name-link">extractAll</a><wbr>(int&nbsp;sizeEstimate)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Converts all remaining rows in the <code>ResultSet</code> into beans.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isEmpty()" class="member-name-link">isEmpty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns <code>true</code> if the end of the <code>ResultSet</code> has been reached;
 <code>false</code> otherwise.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Iterable">Methods inherited from interface&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)" title="class or interface in java.lang" class="external-link">forEach</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html#iterator()" title="class or interface in java.lang" class="external-link">iterator</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Iterable.html#spliterator()" title="class or interface in java.lang" class="external-link">spliterator</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="extract()">
<h3>extract</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</span>&nbsp;<span class="element-name">extract</span>()</div>
<div class="block">Converts the current row within the <code>ResultSet</code> into a bean. If the
 <code>ResultSet</code> is empty, or if there are no more rows in the <code>ResultSet</code>, an
 empty <code>Optional</code> is returned. You can keep calling <code>extract()</code> to
 successively extract all rows in the result set until you receive an empty
 <code>Optional</code>, or until <a href="#isEmpty()"><code>isEmpty()</code></a> returns <code>true</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an <code>Optional</code> containing the bean or an empty <code>Optional</code> if the
       <code>ResultSet</code> contained no (more) rows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extract(int)">
<h3>extract</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</span>&nbsp;<span class="element-name">extract</span><wbr><span class="parameters">(int&nbsp;limit)</span></div>
<div class="block">Converts at most <code>limit</code> rows from the <code>ResultSet</code> into beans, possibly
 less, if there are not that many rows left in the <code>ResultSet</code>. If the
 <code>ResultSet</code> is empty, or if there are no more rows in the <code>ResultSet</code>, an
 empty <code>List</code> is returned.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>limit</code> - the maximum number of rows to extract and convert</dd>
<dt>Returns:</dt>
<dd>a <code>List</code> of beans or an empty <code>List</code> if the <code>ResultSet</code>
       contained no (more) rows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extractAll()">
<h3>extractAll</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</span>&nbsp;<span class="element-name">extractAll</span>()</div>
<div class="block">Converts all remaining rows in the <code>ResultSet</code> into beans. Equivalent to
 <a href="#extractAll(int)"><code>extractAll(10)</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <code>List</code> of beans or an empty <code>List</code> if the <code>ResultSet</code>
       contained no (more) rows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extractAll(int)">
<h3>extractAll</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="BeanExtractor.html" title="type parameter in BeanExtractor">T</a>&gt;</span>&nbsp;<span class="element-name">extractAll</span><wbr><span class="parameters">(int&nbsp;sizeEstimate)</span></div>
<div class="block">Converts all remaining rows in the <code>ResultSet</code> into beans.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sizeEstimate</code> - an estimate of the size of the resulting <code>List</code>.</dd>
<dt>Returns:</dt>
<dd>a <code>List</code> of beans or an empty <code>List</code> if the <code>ResultSet</code>
       contained no (more) rows</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty()">
<h3>isEmpty</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isEmpty</span>()</div>
<div class="block">Returns <code>true</code> if the end of the <code>ResultSet</code> has been reached;
 <code>false</code> otherwise.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether the end of the <code>ResultSet</code> has been reached</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="http://www.naturalis.nl">Naturalis Biodiversity Center</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
